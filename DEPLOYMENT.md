# Инструкция по развертыванию

## Развертывание в Docker

### Способ 1: Использование Dockerfile напрямую

1. **Сборка образа:**

```bash
docker build -t gruzoperevozki-crm .
```

2. **Запуск контейнера:**

```bash
docker run -d -p 8080:8080 --name crm-app gruzoperevozki-crm
```

3. **Проверка работы:**
   Откройте браузер и перейдите по адресу: `http://localhost:8080`

### Способ 2: Использование docker-compose

1. **Запуск:**

```bash
docker-compose up -d
```

2. **Остановка:**

```bash
docker-compose down
```

3. **Просмотр логов:**

```bash
docker-compose logs -f
```

## Переменные окружения

При необходимости можно изменить базовый URL API через переменную окружения:

```bash
docker run -d -p 8080:8080 \
  -e VITE_API_BASE_URL=https://gocrm.gruzoperevozki-rf.com \
  --name crm-app gruzoperevozki-crm
```

**Примечание:** Переменные окружения Vite должны быть заданы на этапе сборки. Для изменения после сборки потребуется пересобрать образ.

## Проверка работоспособности

После запуска контейнера:

1. Откройте `http://localhost:8080` в браузере
2. Вы должны увидеть страницу входа
3. Введите тестовые данные:
   - Логин: `test`
   - Пароль: `12345678`
4. После успешного входа вы будете перенаправлены на страницу со списком заявок

## Устранение неполадок

### Контейнер не запускается

Проверьте логи:

```bash
docker logs crm-app
```

### Порт 8080 уже занят

Измените порт в команде запуска:

```bash
docker run -d -p 8081:8080 --name crm-app gruzoperevozki-crm
```

Затем откройте `http://localhost:8081`

### Проблемы с сетью/API

Убедитесь, что контейнер имеет доступ к интернету и может обращаться к API:

```bash
docker exec crm-app ping -c 3 gocrm.gruzoperevozki-rf.com
```
